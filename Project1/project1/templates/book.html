{% extends "layout.html" %}

{% block title %}
    {{ book.title }}
{% endblock %}

{% block main %}
<form action="/index" method="post">
        <table class="table table-bordered table-sm">
            <thead class="bookTable">
                <tr>
                    <th>Title</th>
                    <th>Author</th>
                    <th>Year</th>
                    <th>ISBN</th>
                    <th>Your review</th>
                    <th>Your rating</th>
                    <th>What others think of this book</th>
                    <th>Average rating from BookReviewer users</th>
                    <th>GoodReads rating</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{ book.title }}</td>
                    <td>{{ book.author }}</td>
                    <td>{{ book.year }}</td>
                    <td>{{ book.isbn }}</td>
                    <td>{{ currentUserReview }}</td>
                    <td>{{ currentUserRating }}/5</td>
                    <td>
                        {% for review in reviewsFromOthers %}
                            "{{ review }}" <br>
                        {% else %}
                            No reviews from others yet.
                        {% endfor %}
                    </td>
                    <td>
                        {% if averageUsersRating > 0 %}
                            {{averageUsersRating}}/5
                        {% else %}
                            No ratings from others yet.
                        {% endif %}
                    </td>
                    <td>
                        {{ goodreadsRatingAverage }} based on {{ goodreadsRatingNum }} reviews
                    </td>
                </tr>
               <tr style="height: 30px;"/>
            </tbody>
        </table>
    </form>
{% endblock %}